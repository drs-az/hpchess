<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Harry Potter Themed Chess</title>
  <!-- Chessboard.js stylesheet -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chessboard.js/1.0.0/chessboard.min.css" />
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      background: url('https://wallpapercat.com/w/full/0/2/9/2164066-3000x1688-desktop-hd-hogwarts-castle-background.jpg') center center / cover no-repeat fixed;
      font-family: 'Cinzel', serif;
      color: #f5f1e8;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    #container {
      background: rgba(0,0,0,0.6);
      padding: 20px;
      border-radius: 8px;
      width: 520px;
    }
    #board {
      width: 480px;
      margin: 20px auto;
      box-shadow: 0 0 20px rgba(0,0,0,0.7);
    }
    .info {
      display: flex;
      justify-content: space-around;
      margin-bottom: 10px;
    }
    .player-info {
      background: rgba(255,255,255,0.1);
      padding: 8px;
      border-radius: 6px;
      width: 200px;
    }
    #timer {
      font-size: 1.2rem;
      padding: 8px;
      background: rgba(0,0,0,0.4);
      border-radius: 6px;
    }
    button {
      cursor: pointer;
      padding: 8px 16px;
      font-size: 1rem;
      border-radius: 4px;
      border: none;
      background: #7f1d1d;
      color: #fff;
    }
    input, select {
      width: 100%;
      padding: 6px;
      margin: 4px 0;
      border-radius: 4px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
  </style>
</head>
<body>
  <div id="container">
    <h1>Welcome to Wizard's Chess</h1>
    <div id="playerSetup">
      <div>
        <label>Player 1 Name:<br><input type="text" id="p1Name" placeholder="e.g. Alaric Silverstaff"></label>
        <label>House:<br><select id="p1House">
          <option>Gryffindor</option>
          <option>Slytherin</option>
          <option>Ravenclaw</option>
          <option>Hufflepuff</option>
        </select></label>
      </div>
      <div style="margin-top:12px;">
        <label>Player 2 Name:<br><input type="text" id="p2Name" placeholder="e.g. Morwenna Darkbane"></label>
        <label>House:<br><select id="p2House">
          <option>Gryffindor</option>
          <option>Slytherin</option>
          <option>Ravenclaw</option>
          <option>Hufflepuff</option>
        </select></label>
      </div>
      <button id="startBtn" type="button" onclick="initGame()">Start Game</button>
    </div><div id="gameArea" style="display:none;">
  <div class="info">
    <div class="player-info" id="info1"></div>
    <div id="timer">--:--</div>
    <div class="player-info" id="info2"></div>
  </div>
  <div id="board"></div>
</div>

  </div>  <!-- Dependencies -->  <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/1.0.0/chess.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard.js/1.0.0/chessboard.min.js"></script>  <script>
    // Global variables
    let board;
    const game = new Chess();
    let timerInterval, timeLeft, currentColor;

    function updateTimer() {
      const mins = String(Math.floor(timeLeft / 60)).padStart(2, '0');
      const secs = String(timeLeft % 60).padStart(2, '0');
      document.getElementById('timer').textContent = `${mins}:${secs}`;
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        alert(`${currentColor === 'white' ? p2Name : p1Name} wins by timeout!`);
      }
      timeLeft--;
    }

    function startTimer() {
      clearInterval(timerInterval);
      timeLeft = 10 * 60; // 10 minutes
      timerInterval = setInterval(updateTimer, 1000);
    }

    function onDragStart(source, piece) {
      if (game.game_over()) return false;
      if ((game.turn() === 'w' && piece.startsWith('b')) ||
          (game.turn() === 'b' && piece.startsWith('w'))) {
        return false;
      }
    }

    function onDrop(source, target) {
      const move = game.move({ from: source, to: target, promotion: 'q' });
      if (!move) return 'snapback';
      currentColor = game.turn() === 'w' ? 'black' : 'white';
      startTimer();
      if (game.game_over()) {
        clearInterval(timerInterval);
        alert('Game over!');
      }
    }

    function onSnapEnd() {
      board.position(game.fen());
    }

    function initBoard() {
      board = Chessboard('board', {
        draggable: true,
        position: 'start',
        onDragStart,
        onDrop,
        onSnapEnd,
        pieceTheme: piece =>
          `https://cdnjs.cloudflare.com/ajax/libs/chessboard.js/1.0.0/img/chesspieces/wikipedia/${piece}.png`
      });
      currentColor = 'white';
      startTimer();
    }

    function initGame() {
      window.p1Name = document.getElementById('p1Name').value || 'Player 1';
      window.p2Name = document.getElementById('p2Name').value || 'Player 2';
      const p1House = document.getElementById('p1House').value;
      const p2House = document.getElementById('p2House').value;
      document.getElementById('info1').textContent = `${p1Name} (${p1House}) - White`;
      document.getElementById('info2').textContent = `${p2Name} (${p2House}) - Black`;
      document.getElementById('playerSetup').style.display = 'none';
      document.getElementById('gameArea').style.display = 'block';
      initBoard();
    }
  </script></body>
</html>